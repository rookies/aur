# Maintainer: Robert Knauer <robert@privatdemail.net>
# Contributor: SID/sidious <miste78 at web.de> 

pkgname=freedoko
pkgver=0.7.12
pkgrel=1
pkgdesc="Free version of the german card game Doppelkopf"
arch=('i686' 'x86_64')
url="http://free-doko.sourceforge.net/en/FreeDoko.html"
license=('GPL')
depends=('gtkmm' 'gnet' 'freealut')
makedepends=('unzip')
conflicts=('freedoko-bin32')
install='freedoko.install'
source=(
  "http://downloads.sourceforge.net/free-doko/FreeDoko_${pkgver}.src.zip"
  'help.cpp.diff'
  'Makefile.diff'
  'Makefile.install.directories.diff'
  'freedoko.cpp.diff'
)
sha256sums=(
  'ce81ad52c16b4c5d59366ef8624da1be59326bbb8e58a79efee1448d9f603685'
  'd24f6e816cda48c70362fcd6251f684848bcc802a27cbf2b2a1672c1bb334b2b'
  '6cc35149f42158c9e273017e41604d5bfc8a3ba3a1b81f04c391fa4d95d4aca7'
  '00dfa6715e3f195955cd672fa510d74c5006d825748091463db4c509da7f12b3'
  '7291f56c2e1f771d1dfef5e16970111b8682c2ab560af14f57adc7fe46221483'
)

build() {
  cd "${srcdir}/FreeDoko_${pkgver}"
  patch -p0 <../help.cpp.diff
  patch -p0 <../freedoko.cpp.diff
  patch -p0 <../Makefile.diff
  patch -p0 <../Makefile.install.directories.diff
}

package() {
  cd "${srcdir}/FreeDoko_${pkgver}"
  make DESTDIR="${pkgdir}" install
}
